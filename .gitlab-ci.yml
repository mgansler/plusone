stages:
  - test
  - build
  - package
  - deploy

cache:
  key:
    files:
      - yarn.lock
  paths:
    - node_modules/

default:
  before_script:
    - yarn install --network-timeout 150000

lint:
  stage: test
  tags:
    - docker
  script:
    - yarn nx run-many --target=lint --all --parallel 4

include:
  - /apps/elgato/.gitlab-ci.yml
  - /apps/feeds/.gitlab-ci.yml
  - /apps/suite/.gitlab-ci.yml
